<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script type="text/javascript" language="javascript">
var win = null;
function NewWindow(mypage,myname,w,h,scroll)
{
	LeftPosition = (screen.width) ? (screen.width-w)/2 : 0;
	TopPosition = (screen.height) ? (screen.height-h)/2 : 0;
	settings ='height='+h+',width='+w+',top='+TopPosition+',left='+LeftPosition+',scrollbars='+scroll+',resizable'
	win = window.open(mypage,myname,settings)
}
</script>

<script type="text/javascript" language="JavaScript" src="solucion.php_files/boxover.js"></script>

<script type="text/javascript" language="JavaScript">
function showhide(id){
if (document.getElementById){
obj = document.getElementById(id);
if (obj.style.display == 'none'){
obj.style.display = '';
} else {
obj.style.display = 'none';
}
	}
}
</script><link rel="stylesheet" href="solucion.php_files/styles.css" type="text/css">
</head><body bgcolor="" text="">
  <link rel="stylesheet" href="solucion.php_files/sample.css">  
  <script type="text/javascript" src="solucion.php_files/highlight.js"></script>
  <script type="text/javascript">
      //initHighlightingOnLoad('1c', 'axapta', 'cpp', 'delphi', 'xml', 'html', 'css', 'django', 'java', 'javascript', 'perl', 'php', 'python', 'rib', 'rsl', 'ruby', 'smalltalk', 'sql', 'vbscript'); 'gcc'
	initHighlightingOnLoad('java');
  </script><script type="text/javascript" src="solucion.php_files/static.js"></script>
  
<pre><code class="java">using System;
using System.Collections.Generic;
using System.Text;

namespace ConjuntosAnagramas
{
    <span class="class"><span class="keyword">class</span> <span class="title">Program</span>
    {</span>
        <span class="keyword">static</span> <span class="keyword">int</span>[] getCharCounter(string s)
        {
            <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">52</span>];
            foreach (<span class="keyword">char</span> c in s)
            {
                <span class="keyword">if</span> (<span class="keyword">char</span>.IsUpper(c))
                    array[c - <span class="string">'A'</span> + <span class="number">26</span>]++;
                <span class="keyword">else</span> array[c - <span class="string">'a'</span>]++;
            }
            <span class="keyword">return</span> array;
        }
        <span class="keyword">static</span> <span class="keyword">void</span> Main(string[] args)
        {
            string line;
            string[] arr;
            List&lt;List&lt;string&gt;&gt; dict = <span class="keyword">new</span> List&lt;List&lt;string&gt;&gt;();
            List&lt;<span class="keyword">int</span>&gt; lengths = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;();
            bool added, equals;
            <span class="keyword">int</span>[] wCounter, sCounter;
            StringBuilder sb = <span class="keyword">new</span> StringBuilder();
            <span class="keyword">while</span> ((line = Console.ReadLine()) != <span class="string">"0"</span>)
            {
                arr = line.Trim().Split();
                lengths.Clear();
                dict.Clear();
                foreach (string word in arr)
                {
                    added = <span class="keyword">false</span>;
                    wCounter = getCharCounter(word);
                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lengths.Count &amp;&amp; !added; i++)
                        <span class="keyword">if</span> (lengths[i] == word.Length)
                        {
                            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; dict[i].Count &amp;&amp; !added; j++)
                            {
                                sCounter = getCharCounter(dict[i][j]);
                                equals = <span class="keyword">true</span>;
                                <span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; <span class="number">52</span> &amp;&amp; equals; m++)
                                    equals = wCounter[m] == sCounter[m];
                                <span class="keyword">if</span> (equals)
                                {
                                    dict[i].Add(word);
                                    added = <span class="keyword">true</span>;
                                }
                            }
                        }
                    <span class="keyword">if</span> (!added)
                    {
                        dict.Add(<span class="keyword">new</span> List&lt;string&gt;(<span class="keyword">new</span> string[] { word }));
                        lengths.Add(word.Length);
                    }
                }
                foreach (List&lt;string&gt; ls in dict)
                {
                    sb.Remove(<span class="number">0</span>, sb.Length);
                    foreach (string s in ls)
                        sb.Append(s + <span class="string">"-"</span>);
                    sb.Remove(sb.Length - <span class="number">1</span>, <span class="number">1</span>);
                    Console.WriteLine(sb.ToString());
                }
                Console.WriteLine();
            }
        }
    }
}
</code></pre><br><div align="center"><input class="button" value="Close Window" onclick="window.close()" type="button"></div><br><div style="position: absolute; visibility: hidden;"><div></div><div></div></div></body></html>